version: "3.1"

intents:
  - greet
  - order_pizza
  - inform
  - thankyou

entities:
  - pizza_type
  - topping
  - size

slots:
  pizza_type:
    type: text
    mappings:
      - type: from_entity
        entity: pizza_type
      - type: from_text

  topping:
    type: list
    mappings:
      - type: from_entity
        entity: topping
      - type: from_text

  size:
    type: text
    mappings:
      - type: from_entity
        entity: size
      - type: from_text

responses:
  utter_ask_pizza_type:
    - text: "What type of pizza would you like? We have Veggie, Protein, and Cheese."
      buttons:
      - title: "Veggie"
        payload: "/order_pizza{\"pizza_type\": \"Veggie\"}"
      - title: "Protein"
        payload: "/order_pizza{\"pizza_type\": \"Protein\"}"
      - title: "Cheese"
        payload: "/order_pizza{\"pizza_type\": \"Cheese\"}"

  utter_confirm_order:
    - text: "You have selected a {size} {pizza_type} pizza with {topping}. Is that correct?"

  utter_greet:
    - text: "Hey hi! Welcome to Mc.Burg! What would you like to have today?"

  utter_ask_topping_veggie:
    - text: "Great choice! What toppings would you like for your Veggie pizza? Options are onions and capsicum."

  utter_ask_topping_protein:
    - text: "Great choice! What toppings would you like for your Protein pizza? Options are chickpeas and cottage cheese."

  utter_ask_size:
    - text: "What size would you like? We have small, medium, and large."
      buttons:
      - title: "Small"
        payload: "/inform{\"size\": \"small\"}"
      - title: "Medium"
        payload: "/inform{\"size\": \"medium\"}"
      - title: "Large"
        payload: "/inform{\"size\": \"large\"}"

  utter_order_placed:
    - text: "Order no. 1 placed, thank you for the order. Have a good day!"

  utter_iamabot:  
    - text: "I am a bot here to help you with your order."
  
  utter_thanks:
    - text: "You're welcome!"

  utter_goodbye:
  - text: "Goodbye! Have a great day!"

forms:
  order_pizza_form:
    required_slots:
     - pizza_type
     - topping
     - size


actions:
  - action_order_pizza
